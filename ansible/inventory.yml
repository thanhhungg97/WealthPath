# WealthPath Ansible Inventory
# Usage: ansible-playbook -i inventory.yml playbook.yml

all:
  hosts:
    wealthpath:
      ansible_host: "{{ lookup('env', 'SERVER_IP') | default('52.220.155.187', true) }}"
      ansible_user: ubuntu
      ansible_ssh_private_key_file: ~/.ssh/wealthpath_key
      ansible_python_interpreter: /usr/bin/python3
  
  vars:
    # App configuration
    app_name: wealthpath
    app_dir: /opt/wealthpath
    repo_url: https://github.com/thanhhungg97/WealthPath.git
    
    # Database
    postgres_user: wealthpath
    postgres_db: wealthpath
    
    # Domain & SSL
    domain: "{{ lookup('env', 'DOMAIN') | default('wealthpath.duckdns.org', true) }}"
    use_ssl: "{{ lookup('env', 'USE_SSL') | default('true', true) }}"
    use_zerossl: "{{ lookup('env', 'USE_ZEROSSL') | default('true', true) }}"
    admin_email: "{{ lookup('env', 'ADMIN_EMAIL') | default('admin@example.com', true) }}"
    
    # OAuth - Google (from GitHub Secrets via env vars)
    google_client_id: "{{ lookup('env', 'GOOGLE_CLIENT_ID') | default('', true) }}"
    google_client_secret: "{{ lookup('env', 'GOOGLE_CLIENT_SECRET') | default('', true) }}"
    
    # OAuth - Facebook (from GitHub Secrets via env vars)
    facebook_app_id: "{{ lookup('env', 'FACEBOOK_APP_ID') | default('', true) }}"
    facebook_app_secret: "{{ lookup('env', 'FACEBOOK_APP_SECRET') | default('', true) }}"
    
    # AI (from GitHub Secrets via env vars)
    openai_api_key: "{{ lookup('env', 'OPENAI_API_KEY') | default('', true) }}"
    
    # SEO & Analytics
    ga_measurement_id: "{{ lookup('env', 'GA_MEASUREMENT_ID') | default('', true) }}"
    google_site_verification: "{{ lookup('env', 'GOOGLE_SITE_VERIFICATION') | default('hmaoUIUVvl1QGRo_Oj_hRbSWzAjI5Por_V4QAfEC9ZM', true) }}"
    
    # Docker compose file
    compose_file: docker-compose.deploy.yaml

